<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <style type="text/css">
    [v-cloak] {display: none }
    img { max-width: none; }
    select, textarea, input[type="text"], input[type="password"], input[type="datetime"], input[type="datetime-local"], input[type="date"], input[type="month"], input[type="time"], input[type="week"], input[type="number"], input[type="email"], input[type="url"], input[type="search"], input[type="tel"], input[type="color"], .uneditable-input{    margin-bottom:0px;}
  </style>
  <script type="text/javascript" src="./js/jquery.leoTextAnimate.js"></script>
  <script type="text/javascript" src="./js/jquery-1.8.3.js"></script>
  <script type="text/javascript" src="./js/vue.dev.js"></script>
<!--  <script type="text/javascript" src="./js/D.js"></script>-->
  <script type="text/javascript" src="./js/B.js"></script>
<!--  <script type="text/javascript" src="./js/J1.js"></script>-->
<!--  <script type="text/javascript" src="./js/A1.js"></script>-->
<!--  <script type="text/javascript" src="./js/C.js"></script>-->
</head>
<body style="background: #f7f7f7;">
<style>
  :root {	--num: 5; --num2: 10;  --s: 2s; --time:1 }
  .icon-th-list{ display: none; }
  html,body,#app{ width: 100%; height: 100%; overflow: hidden; background:#cccccc; }
  #app{ background: 100% 100% / 200% 100% no-repeat url("./images/show_bg2.png"); padding: 4.4% 3% 2.5% 0.5%; box-sizing: border-box; }
  .container{ width: 100% ; height: 100%; display: flex; flex-direction: column; position: relative; }
  .title{ flex:1;  display: flex; }
  .title_left{ flex:2;  display: flex; }
  .title_right{ flex:3; display: flex; margin-right: 0.6%; }
  .items{ flex:1; display: flex; }
  .items:last-child{ margin-left: 1.5%; }
  .item{ flex:1; background: rgba(255,255,255,0.1); border-radius: 4px; position: relative; padding-left: 24px; display: flex; flex-direction: column; justify-content: center; line-height: 1.8vh; font-size: 1.4vh; color: white; }
  .item:last-child{ margin-left: 1.5%; }
  .item::after{ content:''; width: 4px; height: 68%; position: absolute; top: 0; bottom: 0; left: 8px; margin: auto 0; background: #4285F4; border-radius: 1px; }
  .body{ width: 100%; height: 100%; position: absolute; top: 0; left: 0; display: flex; }
  .left{ flex:3; margin-right: 0.6%; border-radius: 5px; box-sizing: border-box; padding-top: 30px; display: flex; flex-direction: column; background: rgba(255,255,255,0.1); position: relative; }
  .right{ flex:2; display: flex; flex-direction: column;  }
  .line{ flex:1; display: flex;  }
  .line:first-child{ margin-bottom: 1.5%; }
  .video_card{ overflow: hidden; flex:1; border-radius: 5px; box-sizing: border-box; padding-top: 30px; background: rgba(255,255,255,0.1); position: relative; display: flex; flex-direction: column; }
  .video_card:first-child{ margin-right: 1.5%; }
  .card_title{ width: 100%; height: 30px; line-height: 30px; box-sizing: border-box; font-size: 1.3vh; position: absolute; top: 0; left: 0; color: white; padding-left: 22px;z-index: 100000000; }
  .card_title::after{ width: 9px; height: 9px; border-radius: 2px; content: ''; background: #4285F4; position: absolute; top: 0; bottom: 0; left: 7px; margin: auto 0;  }
  .up{ flex: 7; margin:0 1% 1% 1%; background: rgba(1,21,113,0.6); border-radius: 5px; display: flex; overflow: hidden; }

  .row_desc_new{ width: 30px; display: flex; flex-direction: column; }
  .road_new{ flex: 2;  background: #0c2888; position: relative; }
  .road_new::before{content:''; height: 100%; width: 0px; border-left: 1px dashed rgba(255,255,255,.3); position:absolute; top:0; left: 4px;}
  .road_new::after{content:''; height: 100%; width: 0px; border-left: 1px dashed rgba(255,255,255,.3); position:absolute; top:0; right: 4px;}
  .line_new{ flex: 30;display: flex; flex-direction: column; position: relative; }
  .rows_new{ flex:1; position: relative; border-bottom: 1px solid rgba(255,255,255,.1); }
  .rows_new_3{ flex:1; position: relative; border-bottom: 1px solid rgba(255,255,255,.1); }
  .rows_new_high{ flex:3; position: relative; border-bottom: 1px solid rgba(255,255,255,.1); }
  .desc_new{flex: 1; position: relative; border-bottom: 1px solid rgba(255,255,255,.1); }
  .desc_new_high{flex: 3; position: relative; border-bottom: 1px solid rgba(255,255,255,.1); }
  .desc_new::before{ content:attr(row); width: 40px; height: 20px; color: white; position: absolute; left: 3px; bottom: 3px;font-size: 14px; }
  .desc_new_high::before{ content:attr(row); width: 40px; height: 20px; color: white; position: absolute; left: 3px; bottom: 3px;font-size: 14px;  }
  .rowCar_new{ width: 1px; height: 100%; position: absolute; top: 0; left: -4px; z-index: 999; background: #00ffff; font-weight: 500;}
  .gou_new{ width: 10px; height: 8px; position: absolute;background: 0 0 / 100% 100% no-repeat url("./images/goz3.png");z-index: 1000000000000; }
  .gou_info_new{  width: 180px; height: 20px; line-height: 20px; font-size: 12px; color: #00ffff; position: absolute; top:-12px; left: 10px;z-index: 1000000000000; background: transparent; }


  .image_roll_new{
    cursor: pointer;
    width: 1.0%;
    content: url("./images/normal-roll.svg");
    position: absolute; bottom: 0; left: 0;
  }
  .rows_new_3 .image_roll_new{
    cursor: pointer;
    width: 1.9%;
    position: absolute; bottom: 0; left: 0;
  }
  .rows_new_high .image_roll_new{
    cursor: pointer;
    width: 1.0%;
    content: url("./images/row34/normal-roll.png");
    position: absolute; bottom: 0; left: 0;
  }


  .image_roll1_new{ content: url("./images/yellow-roll.svg"); }
  .rows_new_high .image_roll1_new{ content: url("./images/row34/yellow-roll.png"); }
  .image_roll2_new{ content: url("./images/pro-roll.svg"); }
  .rows_new_high .image_roll2_new{ content: url("./images/row34/pro-roll.png"); }
  .image_roll3_new{ content: url("./images/warn-roll.svg"); }
  .rows_new_high .image_roll3_new{ content: url("./images/row34/warn-roll.png"); }
  .image_roll4_new{ content: url("./images/out-roll.svg"); }
  .rows_new_high .image_roll4_new{ content: url("./images/row34/out-roll.png"); }
  .roll_active_new{ content: url("./images/out-roll.svg"); }
  .rows_new_high .roll_active_new{ content: url("./images/row34/out-roll.png"); }
  .image_roll_out_new{
    width: 1.0%;
    position: absolute; bottom: 0; left: 0;
  }
  .rows_new_3 .image_roll_out_new{
    width: 1.9%;
    position: absolute; bottom: 0; left: 0;
  }

  .image_roll_out_new_3{
    width: 1.0%;
    position: absolute; bottom: 0; left: 0;
  }
  .rows_new_3 .image_roll_out_new_3{
    width: 1.9%;
    position: absolute; bottom: 0; left: 0;
  }





  .down{ flex: 3; margin:0 1% 1% 1%; display: flex; }
  .down_video{ flex:1; margin-right: 1%; background: rgba(1,21,113,0.6); border-radius: 5px; display:flex; flex-direction: column;  }
  .down_video:last-child{ margin-right: 0; }
  .down_video_box{ flex: 1; border-radius: 5px 5px 0 0; background: black; }
  .down_video_title{ height: 24px; line-height: 24px; background: #4285F4; color: white; border-radius:  0 0 5px 5px; padding-left: 5%; }
  .line_video{ flex: 3; background: black; margin: 0 3% 3% 3%; border-radius: 3px; box-sizing: border-box; position: relative; }
  .video_info{ flex: 2; color: white; font-size: 12px; margin: 0 3% 3% 3%; box-sizing: border-box; overflow: hidden; }
  .video_info_box{ width: 100%; height: 200%;  }
  .video_info_item,.video_info_item2{ font-size: 9px; line-height: 9px;  box-sizing: border-box; padding-left: 10px; width: 100%; height:10%; overflow: hidden; white-space: nowrap;text-overflow: ellipsis; -o-text-overflow: ellipsis; }
  .video_info_item::before, .video_info_item2::before{ content: ""; display: block; height: 20%; }
  .video_info_item span,.video_info_item2 span{ display: inline-block; }
  .video_info_item span:nth-child(1){ width: 75px; }
  .video_info_item span:nth-child(2){ width: 72px; }
  .video_info_item span:nth-child(3){ width: 56px; }
  .video_info2{ flex: 2; color: white; font-size: 12px; margin: 0 2% 3% 2%; box-sizing: border-box; overflow: hidden; }
  .video_info_item2 {padding-left: 0px; text-overflow:inherit;display: flex; height: 5%;}
  .video_info_item2 span:nth-child(1){ width: 20px;display: inline-block;text-align: center; }
  .video_info_item2 span:nth-child(n+2){ flex: 1;display: inline-block;text-align: center;overflow: hidden; white-space: nowrap;text-overflow: ellipsis; -o-text-overflow: ellipsis; max-width: 100px; }
  .video_info_item2 span:nth-child(5){ flex:1.5;}
  .video_info_item1{ font-size: 9px; line-height: 9px;  box-sizing: border-box; display: flex; width: 100%; height:10%; overflow: hidden; white-space: nowrap;text-overflow: ellipsis; -o-text-overflow: ellipsis; }
  .video_info_item1::before{ content: ""; display: block; height: 20%; }
  .video_info_item1 span:nth-child(n+2){ flex: 1;display: inline-block;text-align: center; }
  .video_info_item1 span:nth-child(1){display: inline-block;width: 20px; text-align: center; }
  .half_video_box{ display: flex; flex-direction: column; }
  .half_video{ flex:1; }
  .half_info{ height: 34px; background: #4285F4; border-radius:  0 0 2px 2px; color: white; font-size: 12px; line-height: 14px;box-sizing: border-box; display: flex; flex-direction: column; justify-content: center; }
  .half_line{ display: flex; justify-content: space-between; transform: scale(0.9); }
  .half_line .hColor{ font-weight: bold; }
  .card_title span{ display: inline-block; font-size: 12px; background: #4285F4; height: 12px; transform: scale(0.8); line-height: 12px; padding: 4px 10px; border-radius: 3px; }
  .card_title span:first-child{ margin-left: 15px; }
  .card_label{ width: 58%; height: 30px; position: absolute; top: 0; right: 0; box-sizing: border-box; }
  .lable_status{ height: 20px; margin: 5px 2px; float: left; }
  .label_img{ float: right; box-sizing: border-box; padding-left: 26px; height: 24px; line-height: 24px; flex: 1; margin: 3px 5px 0 5px; color: white; display: flex; justify-content: center; font-size: 16px; }
  .label_img1{ background: center / 100% 100% no-repeat url("./images/label04.png"); }
  .label_img2{ background: center / 100% 100% no-repeat url("./images/label03.png"); }
  .label_img3{ background: center / 100% 100% no-repeat url("./images/label01.png"); }
  .label_img>div{ transform: scale(0.8); overflow: hidden; white-space: nowrap; text-overflow: ellipsis; }
  .col_name{ flex: 1; color: white; display: flex; flex-direction: column; justify-content: space-around; }
  .col_name_item{ text-align: center; }
  .col_area{ flex: 24; display: flex; flex-direction: column;justify-content: space-around; position: relative; }
  .col_area img { z-index: 99999; cursor: pointer;}
  .col_area_item{ flex: 1; box-sizing: border-box; border-bottom: 1px solid rgba(255,255,255,.3); position:relative;  }
  .col_area_item:last-child{ border-bottom: none; }
  .col_road{ flex: 2; background: rgba(12,40,136,.8); position: relative; color: rgba(255,255,255,.4); }
  .col_road::before{ content: ''; width: 0px; height: 100%; border-left: 1px dashed rgba(255,255,255,.3); position: absolute; top: 0; left: 4px; }
  .col_road::after{ content: ''; width: 0px; height: 100%; border-left: 1px dashed rgba(255,255,255,.3); position: absolute; top: 0; right: 4px; }
  .col_road_name{ width: 13px;height: 100px; position: absolute; top: 0; left: 0; bottom: 0; right: 0; margin: auto auto; }
  .car_box1{ width: 30%; height: 24%; position: absolute; top: 10%; left: 7px; background: center / 100% 100% url("./images/car_img.png"); }
  .car_box2{ width: 30%; height: 24%; position: absolute; bottom: 10%; right: 7px; background: center / 100% 100% url("./images/car_img.png"); }
  .rawCar{ z-index: 999999999; width: 1.2px; height: 100%; position: absolute; top: 0; left: 20%; background: #F7B500; }
  .rawCar .gou{ width: 30px; height: 24px; position: absolute;top: 0; left: -3.5px; background: 0 0 / 100% 100% no-repeat url("./images/goz3.png"); }
  .zgz{ width: 20px; height: 20px; position: absolute; top: 200px; left: -2.5px; background: center / 100% 100% url("./images/goz.png") }
  .image_roll{ height: 32%; width: 1.3%; content: url("./images/steel01.png"); position: absolute; bottom: 0; left: 0; }
  .image_roll1{ height: 32%; width: 1.3%; content: url("./images/steel05.png"); position: absolute; bottom: 0; left: 0; z-index: 99; }
  .image_roll2{ height: 32%; width: 1.3%; content: url("./images/steel04.png"); position: absolute; bottom: 0; left: 0; z-index: 99; }
  .image_roll3{ height: 32%; width: 1.3%; content: url("./images/steel02.png"); position: absolute; bottom: 0; left: 0; z-index: 99; }
  .footer{ width: 100%; height: 2.5vw; position: absolute; bottom: 0; left: 0; background: 78% 54% / 111% 130% no-repeat url("./images/line_bottom_r.png"); }
  .icon_bottom{ position: absolute; top: 22%; left: 25.5%; width: 7%; }
  .icon_bottom:nth-child(2){ top: 22%; width: 7%; left: 73.5%; }
  .head{ width: 100%; height: 4.4vw; box-sizing:border-box; display: flex; align-items: flex-end; position: absolute; top: 0; left: 0; padding: 0 3% 0 0.5%; background: 0 0 / 100% 100% no-repeat url("./images/lineR.png"); }
  .head_left{ flex: 2; display: flex; justify-content: center; align-items: center; margin-left: 0.6%; height: 56%; background: 0 -20% / 45% 60% no-repeat url("./images/arr_right.png") , 100% -20% / 45% 60% no-repeat url("./images/arr_left.png"); }
  .head_right{ flex: 3;  height: 56%; display: flex; align-items: center; background: 100% -20% / 38% 60% no-repeat url("./images/arr_left.png"); }
  .head_title{ margin: 0 20px; color: #4285F4; font-size: 1vw; font-weight: bolder; }
  .dot_right{ display: flex; margin-left: 10%; position: absolute; top: -20%; left: 2%; }
  .trleft{ flex: 10;display: flex;justify-content: center;align-items: center; position: relative; }
  .m_left,.m_right{ display: flex; }
  .mkl{ width: 3px; height: 12px; margin: 0 5px; background:rgba(66,133,244,0.2); border-radius: 5px; transform: rotateZ(36deg); }
  .mkr{ width: 3px; height: 12px; margin: 0 5px; background:rgba(66,133,244,0.2); border-radius: 5px; transform: rotateZ(-36deg); }
  .bsize{ width: 5px; height: 24px; transform: rotateZ(45deg); }
  .right_video{ width: 100%; height: 100%; position: absolute; top: 0; left: 0; }
  .move_title{ height: 18px;font-size: 10px; line-height: 18px; margin: 0 2%; border-radius: 2px; color: white; display: flex; background: linear-gradient(180deg, rgba(66,133,244,0.38) 0%, rgba(20,54,151,0.38) 100%); }
  .move_title span:nth-child(n+2){ flex: 1;display: inline-block;text-align: center; }
  .move_title span:nth-child(1){display: inline-block;width: 20px; text-align: center;  max-width: 100px; }
  .move_title2 span:last-child{flex: 1.5;}
  .col_red{ color: red; }
  .opaticy_0{ opacity: 0; }
  .info_rb{ background: rgba(66,133,244,0.3) linear-gradient(180deg, #143697 0%, #011571 99%); }
  .info_rt{ border-radius: 4px;position: relative; background: linear-gradient(305deg, rgba(66,133,244,0) 0%, rgba(119,187,250,0.3) 100%); }
  .roll_text_box{ width: 80%; height: 5%; position: absolute; top:9%; left: 0; transform: translateX(-50%); display: flex; align-items: center; overflow: hidden; }
  #roll_text{ font-size: 28px; color: white; font-family: "Eras Bold ITC"; white-space: nowrap; }
  .roll_active{ content: url("./images/out-roll.svg"); }
  .logo{ width: 15%; height: 7%; position: absolute; top: 0; left: 0; background: 100% 0% / 200% 100% no-repeat url("./images/logo05.png"); }
  .slideBox{ animation: move calc(var(--num) * var(--s)) steps(var(--num)) infinite; }
  .slideBox2{ animation: move calc(var(--num2) * var(--s)) steps(var(--num2)) infinite; }
  .slideItem{ animation: ItemMove calc(var(--s)) infinite; }
  .dot1{ animation: dot1 calc(var(--time) * 1s) linear infinite; }
  .dot2{ animation: dot2 calc(var(--time) * 1s) linear infinite; }
  .dot3{ animation: dot3 calc(var(--time) * 1s) linear infinite; }
  .dot4{ animation: dot4 calc(var(--time) * 1s) linear infinite; }
  @keyframes move {
    0% {
      transform: translate(0, 0);
    }
    100% {
      transform: translate(0, -50%);
    }
  }
  @keyframes ItemMove {
    0% {
      transform: translate(0, 0);
    }
    100%  {
      transform: translate(0, -100%);
    }
  }
  @keyframes dot1{
    0%{
      background:rgba(66,133,244,0.1);
    }
    25%{
      background:rgba(66,133,244,1);
    }
    50%{
      background:rgba(66,133,244,0.75);
    }
    75%{
      background:rgba(66,133,244,0.35);
    }
    100%{
      background:rgba(66,133,244,0.1);
    }
  }
  @keyframes dot2{
    0%{
      background:rgba(66,133,244,0.35);
    }
    25%{
      background:rgba(66,133,244,0.1);
    }
    50%{
      background:rgba(66,133,244,1);
    }
    75%{
      background:rgba(66,133,244,0.75);
    }
    100%{
      background:rgba(66,133,244,0.35);
    }
  }
  @keyframes dot3{
    0%{
      background:rgba(66,133,244,0.75);
    }
    25%{
      background:rgba(66,133,244,0.35);
    }
    50%{
      background:rgba(66,133,244,0.1);
    }
    75%{
      background:rgba(66,133,244,1);
    }
    100%{
      background:rgba(66,133,244,0.75);
    }
  }
  @keyframes dot4{
    0%{
      background:rgba(66,133,244,1);
    }
    25%{
      background:rgba(66,133,244,0.75);
    }
    50%{
      background:rgba(66,133,244,0.35);
    }
    75%{
      background:rgba(66,133,244,0.1);
    }
    100%{
      background:rgba(66,133,244,1);
    }
  }
  .full_screen{ width:20px; height: 20px;  position: absolute; top: 4%; right: 1%; z-index: 999; background: 0 0 / 100% 100% no-repeat url("./images/isfull.png"); cursor: pointer; }
  .not_full{ background: 0 0 / 100% 100% no-repeat url("./images/notfull.png"); }
  .car_moni{ flex: 1;margin-top: 30px;display: flex; color: white;padding: 0 0.7%; }
  .car_moni>div{ flex: 1;border-radius: 2px; border-left: 1px solid #032894;background: linear-gradient(180deg, #4285F4 0%, #143697 100%); font-size: 12px; display: flex;justify-content: center; align-items: center; }
  .car_info{ flex: 1; display: flex; border-radius: 3px; border: 1px solid rgba(21, 55, 152, 0.9); background: linear-gradient(270deg, rgba(238,48,48,0.58) 0%, rgba(125,174,255,0) 100%); }
  .node_info{ flex: 1;border-radius: 2px; border-left: 1px solid #032894; }
  .car_node1{ font-size: 10px; display: flex; justify-content: center; align-items: center; color: white; background: 42% 70% / 60% 28% no-repeat url('./images/huoch.png'); }
  .car_node{ display: flex; flex-direction: column; font-size: 0px; color: white; padding: 0.4% 0;  }
  .car_node>div{ flex: 1;  font-size: 9px; line-height: 10px; display: flex; justify-content: center; align-items: center; }
  .good_view{ flex: 1; position: relative; background: #011571; }
  .map_top{ width: 200%; height: 100%; background: linear-gradient(#3F80ED 1px, transparent 1px),linear-gradient(90deg,#3F80ED 1px, transparent 1px);background-size: 2.5% 8%; transform-origin: top;transform: rotateX(-90deg) translateX(-25%); }
  .map{ width: 200%; height: 100%; background: linear-gradient(#3F80ED 1px, transparent 1px),linear-gradient(90deg,#3F80ED 1px, transparent 1px);background-size: 2.5% 10%; transform-origin:  0 100% 0;transform: rotateX(60deg) translateX(-25%); }
  .good_mask{ width: 100%; height: 100%; position: absolute; top: 0; left: 0; transform-style: preserve-3d; perspective: 200px; overflow: hidden; }
  .row_box{ width: 100% ; border-top: 1px solid #3F80ED; display: flex; height: 12px; position: absolute; bottom: 0; left: 0; background: linear-gradient(to left,#3F80ED 1px, transparent 1px); background-size: 5% 10%; }
  .row_box > div{ flex: 1;color: white;font-size: 9px; line-height: 10px; }
  .trape1{ width:60%;height:36%;position:absolute; bottom:12%;left:20%;background:linear-gradient(transparent,#4987f0);clip-path: polygon(0% 0%, 100% 0%, 85% 100%, 15% 100%); }
  .circle1{width:42%;height:12%;box-sizing: border-box;border:1px solid #3F80ED;background:#4987f0;position:absolute;bottom:6%;left:29%;border-radius:50%; }
  .trape2{ width:40%;height:28%;position:absolute; bottom:12%;left:30%;z-index: 1; background:linear-gradient(transparent,#4184f3);clip-path: polygon(0% 0%, 100% 0%, 85% 100%, 15% 100%); }
  .circle2{ width:28%;height:9%;box-sizing: border-box;border:1px solid #3F80ED;z-index: 2; background:#4184f3;position:absolute;bottom:8%;left:36%;border-radius:50%; }
  .trape3{ width:20%;height:18%;position:absolute; bottom:14%;left:40%;z-index: 4; background:linear-gradient(transparent,#5e9bfd);clip-path: polygon(0% 0%, 100% 0%, 85% 100%, 15% 100%); }
  .circle3{ width:14%;height:5%;box-sizing: border-box;z-index: 3; background:#5e9bfd;position:absolute;bottom:11%;left:43%;border-radius:50%; }
  .ladingCode{ width: 20%; height: 15%; color: white; font-size: 9px; display: flex; justify-content: center; align-items: center; position: absolute; top: 30%; left: 40%; border-radius: 50%; background: linear-gradient(120deg,#61a6e1,#65a4e8,#4185f3); }
  .circle4{ width: 200%; height: 200%; position: absolute; top: -50%; left: -50%; border:1px solid #82ccf6; background:radial-gradient(transparent 50%, #5084e2,#82ccf6); border-radius: 50%; }
  .circle5{ width: 300%; height: 300%; position: absolute; top: -100%; left: -100%; border: 1px solid #82ccf6; background:radial-gradient(transparent 55%, #5084e2,#82ccf6); border-radius: 50%; }
  .circle6{ width:100%; height:100%; position: absolute; top: -156%; left: 0%;color: white; font-size: 9px; display: flex; justify-content: center; align-items: center; border: 1px solid #82ccf6; background:radial-gradient(transparent 15%, #5084e2,#82ccf6); border-radius: 50%;  }
  .good_info{ width: 38%; height: 56%; position: absolute; top: 0; left: 0; display: flex;flex-direction: column;  }
  .crane_img{ width:5px; height: 30%; background: #FCECC8;position:absolute; top:0; left: 50%; z-index: 9; }
  .crane_gou{ width: 40px; height: 40px; position: absolute; bottom: -30px; left: -14px; background: 0 0 / 100% 100% no-repeat url("./images/crane.png"); }
  .roll_img{ width: 5%; height: 13%; border-radius: 50%; position: absolute; bottom: 0; left: 0; }
  .roll_front{ width: 100%; height: 100%; border-radius: 50%; position: absolute; bottom: 0; left: 0; background: radial-gradient(#4b8be9 20% ,#70b3fa 30%);z-index: 1; }
  .roll_back{ width: 100%; height: 100%; border-radius: 50%; background: #4c8df1; position: absolute; top: -3%; left: 10%; }
  .seleted_roll>span{ background: linear-gradient(#fcecc8 10px ,transparent 9px); color: #0A246A; }
  .current_roll .roll_front{ background: radial-gradient(#efa355 20% ,#fcc781 30%); }
  .current_roll .roll_back{ background: #f7b158; }
  .roll_info{ padding-right: 5px; font-size: 12px; padding: 10px; box-sizing: border-box; position: absolute; top: 0; left: 0; z-index: 999; background: rgba(0,0,0,0.7); color: white; border-radius: 4px; display: flex; flex-direction: column; justify-content: center;z-index: 9999999; }
  .gou_info{  width: 180px; height: 20px; line-height: 20px; font-size: 12px; color: #87fafe; position: absolute; top:-12px; left: 10px; background: transparent; z-index: 99999999999;}
  .close_info{ width: 18px; height: 18px;  color: red; border-radius: 50%; font-size: 16px; line-height: 15px; text-align: center; position: absolute; top: -5px; right: -5px; background: white; cursor: pointer; }

  .select2-container .select2-choice{ background: #4285f4; color: white; border: 1px solid #4285f4; box-shadow: none; }
  .select2-container .select2-choice .select2-arrow{ background: #4285f4; }
  .select2-drop-active { color: white; background: #4285f4; border: 1px solid #4285f4; }
  .custom_select2{ cursor: pointer; width: 100px; height: 28px; line-height: 28px; box-sizing: border-box; padding-left: 8px; margin-left: 10px; color: white; background: #4285f4; border-radius: 2px; position: relative; z-index: 10000; }
  .drop_close{ width: 0px; height: 0px; position: absolute; top: 11px; right: 8px;   border-top: 6px solid #666666; border-left: 5px solid transparent; border-right: 5px solid transparent; border-bottom: 5px solid transparent;  }
  .drop_open{ width: 0px; height: 0px; position: absolute; top: 6px; right: 8px;  border-top: 5px solid transparent; border-left: 5px solid transparent; border-right: 5px solid transparent; border-bottom: 6px solid #666666;  }
  .select_mask{ width: 100%; height: 100%; position: fixed; top: 0; left: 0; z-index: 99; }
  .drop_list{ box-sizing: border-box;padding: 4px; width: 100px; min-height: 28px; position: absolute; top: 26px; left: 0; background: #4285f4; border-radius: 0 0 2px 2px; }
  .drop_list>div{ line-height: 24px; font-size: 12px; box-sizing: border-box; padding-left: 6px; }
  .drop_list>div:hover,.seleced2_selected{ background: #dbedff; color: #333333; }

</style>
<div id="app" v-cloak>
  <div class="roll_info" v-if="pageShow" :style=" 'left:' + pageX + 'px;top:'+ pageY +'px;' ">
    <div style="padding-left: 8px;">{{selRoll.materialDesc}}</div>
    <div><span class="rlabel">捆包号:</span><span>{{selRoll.packageNo}}</span></div>
    <div><span class="rlabel">位置:</span><span>{{selRoll.location}}</span></div>
    <div class="close_info" @click="onCloseInfo()">x</div>
  </div>
  <div class="full_screen" @click="onFullScreen()"></div>
  <div class="logo"></div>
  <div class="roll_text_box" id="roll_text_box">
    <span id="roll_text"></span>
  </div>
  <div class="head">
    <div class="head_right">
      <div style="flex: 3;"></div>
      <div class="trleft">
        <div class="m_left" >
          <div class="mkl dot2"></div>
          <div class="mkl dot3"></div>
          <div class="mkl dot4"></div>
          <div class="mkl dot1"></div>
        </div>
        <div class="head_title">货物监控中心</div>
        <div class="m_right">
          <div class="mkr dot1"></div>
          <div class="mkr dot4"></div>
          <div class="mkr dot3"></div>
          <div class="mkr dot2"></div>
        </div>
        <div class="dot_right">
          <div class="mkr bsize dot1 "></div>
          <div class="mkr bsize dot4 "></div>
          <div class="mkr bsize dot3 "></div>
          <div class="mkr bsize dot2 "></div>
        </div>
      </div>
    </div>
    <div class="head_left">
      <div class="m_left">
        <div class="mkl dot2"></div>
        <div class="mkl dot3"></div>
        <div class="mkl dot4"></div>
        <div class="mkl dot1"></div>
      </div>
      <div class="head_title">风控中心</div>
      <div class="m_right">
        <div class="mkr dot1"></div>
        <div class="mkr dot4"></div>
        <div class="mkr dot3"></div>
        <div class="mkr dot2"></div>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="title">
      <div class="title_right"></div>
      <div class="title_left">
        <div class="items">
          <div class="item" style="opacity: 0;">
            <div>库存量</div>
            <div><span class="number"></span> 吨</div>
          </div>
          <div class="item">
            <div>累计出库量</div>
            <div><span class="number roll2">{{outNum}}</span> 吨</div>
          </div>
        </div>
        <div class="items">
          <div class="item">
            <div>累计吞吐量</div>
            <div><span class="number roll1">{{throughNum}}</span> 吨</div>
          </div>
          <div class="item">
            <div>累计加工量</div>
            <div><span class="number roll0" id="processNum"></span> 吨</div>
          </div>
        </div>
      </div>
    </div>
    <div class="body_box" style=" flex: 16; margin-top: 0.6%; position: relative; ">
      <div class="body" :class=" firstVideo ? 'opaticy_0':'' ">
        <div class="left" style="padding-top: 0;background: transparent;flex: 7;">
          <div class="line" style="background: rgba(21,55,152,0.9);border-radius: 5px;margin-bottom: 1%;flex-direction: column;position: relative;">
            <div class="card_title">
              车辆监测
            </div>
            <div class="car_moni">
              <div>车辆</div>
              <div>入园识别</div>
              <div>入园过磅</div>
              <div>车辆叫号</div>
              <div>计量数据</div>
              <div>出园复镑</div>
              <div>结算金额</div>
              <div>出园识别</div>
            </div>
            <div style="flex: 8;display: flex;flex-direction: column;margin: 0 0.7% 1% 0.7%;">
              <div class="car_info"  v-for="(item,i) in carMonitor" :key="i">
                <div class="node_info car_node1" >{{item.carPlateNo || ""}}</div>
                <div class="node_info car_node">
                  <div>{{item.inBarrierDate ? item.inBarrierDate.slice(5) : ""}}</div>
                  <div>{{item.inBarrierName || ""}}</div>
                  <div></div>
                </div>
                <div class="node_info car_node">
                  <div>{{item.inWeighBridgeTime ? item.inWeighBridgeTime.slice(5) : ""}}</div>
                  <div>{{item.inWeighBridgeWeight ? item.inWeighBridgeWeight + "吨" : ""}}</div>
                  <div>{{item.inWeighBridgeName || ""}}</div>
                </div>
                <div class="node_info car_node">
                  <div>{{item.platformCallTime ? item.platformCallTime.slice(5) : ""}}</div>
                  <div>{{item.platformName || ""}}</div>
                  <div></div>
                </div>
                <div class="node_info car_node">
                  <div>{{item.craneDate ? item.craneDate.slice(5) : ""}}</div>
                  <div>{{item.craneWeight ? item.craneWeight + "吨" : ""}}</div>
                  <div></div>
                </div>
                <div class="node_info car_node">
                  <div>{{item.outWeighBridgeTime ? item.outWeighBridgeTime.slice(5) : ""}}</div>
                  <div>{{item.outWeighBridgeWeight ? item.outWeighBridgeWeight + "吨" : ""}}</div>
                  <div>{{item.outWeighBridgeName || ""}}</div>
                </div>
                <div class="node_info car_node">
                  <div>{{item.accountTime ? item.accountTime.slice(5) : ""}}</div>
                  <div>{{item.accountMoney ? item.accountMoney + "元" : ""}}</div>
                  <div></div>
                </div>
                <div class="node_info car_node">
                  <div>{{item.outBarrierDate ? item.outBarrierDate.slice(5) : ""}}</div>
                  <div>{{item.outBarrierName || ""}}</div>
                  <div></div>
                </div>
              </div>
            </div>
          </div>
          <div class="line">
            <div class="video_card" style="flex: 8;margin-right: 1%;background: rgba(66,133,244,0.3);">
              <div class="card_title">
                货物监测
              </div>
              <div class="good_view">
                <div class="crane_img">
                  <div class="crane_gou"></div>
                </div>
                <div class="good_info">
                  <div class="move_title">
                    <span>序</span>
                    <span>车牌号</span>
                    <span>类型</span>
                    <span>卷号</span>
                    <span>位置</span>
                  </div>
                  <div class="video_info" style="flex: 1">
                    <div class="video_info_box slideBox" v-if="lastSendDetail.length">
                      <div :class=" i<1 ? 'video_info_item1 slideItem seleted_roll':'video_info_item1 slideItem' " v-for="(val,i) in lastSendDetail">
                        <span>{{i+1}}</span>
                        <span>{{val.carPlateNo || ''}}</span>
                        <span>出库</span>
                        <span>{{val.packageNo || '' }}</span>
                        <span>{{val.warehousePlaceName || '' }}</span>
                      </div>
                      <div :class=" i<1 ? 'video_info_item1 slideItem seleted_roll':'video_info_item1 slideItem' " v-for="(val,i) in lastSendDetail">
                        <span>{{i+1}}</span>
                        <span>{{val.carPlateNo || ''}}</span>
                        <span>出库</span>
                        <span>{{val.packageNo || '' }}</span>
                        <span>{{val.warehousePlaceName || '' }}</span>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row_box">
                  <div class="row_num" v-for="val in 20">{{ val }}列</div>
                </div>
                <div class="good_mask" style="bottom: 12px;top: auto">
                  <div class="map"></div>
                </div>
                <div class="good_mask">
                  <div class="map_top"></div>
                </div>
                <div class="good_mask" style="bottom: 12px;top: auto">
                  <div :class=" val.data.packageNo==currentRoll.packageNo  ? 'roll_img current_roll':'roll_img' "
                       :style=" 'left:' + val.colP + '%;bottom:'+ val.layP +'%;' "
                       v-for="(val,i) in rollList">
                    <div class="roll_front"></div>
                    <div class="roll_back"></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="video_card" style="flex: 3;background: rgba(66,133,244,0.3);">
              <div class="card_title">
                计量监测
              </div>
              <div class="line_video" style="display: flex;flex-direction: column;">
                <div style="flex: 19;" id="out_video"></div>
                <div class="half_info" style="flex: 8;background: #FF8888; color: white;">
                  <div class="half_line">
                    <div>
                      <span>车牌号:</span>
                      <span class="hColor" id="outCarPlateNo2"></span>
                    </div>
                    <div>
                      <span>单号:</span>
                      <span class="hColor" id="outBillCode2" style="display: inline-block; min-width: 80px;"></span>
                    </div>
                  </div>
                  <div class="half_line">
                    <div>
                      <span>毛重:</span>
                      <span class="hColor" id="outRoughWeight2"></span>
                    </div>
                    <div>
                      <span>皮重:</span>
                      <span class="hColor" id="outTareWeight2"></span>
                    </div>
                    <div>
                      <span>净重:</span>
                      <span class="hColor" id="outRealWeight2" style="display: inline-block; min-width: 40px;"></span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="move_title" style="font-size: 8px;">
                <span>序</span>
                <span>车牌号</span>
                <span>类型</span>
                <span>地磅净重</span>
                <span>吊磅重量</span>
                <span>状态</span>
              </div>
              <div class="video_info" style="flex: 3;">
                <div class="video_info_box slideBox" v-if="measureMonitor.length">
                  <div class="video_info_item1 slideItem" v-for="(val,i) in measureMonitor">
                    <span>{{i+1}}</span>
                    <span>{{val.carPlateNo || ''}}</span>
                    <span>{{val.taskType ? val.taskType.slice(0,2) : '' }}</span>
                    <span>{{val.netWeight ? val.netWeight+'吨' :'' }}</span>
                    <span>{{val.craneWeight ? val.craneWeight+'吨' :'' }}</span>
                    <span>{{val.statusDesc||''}}</span>
                  </div>
                  <div class="video_info_item1 slideItem" v-for="(val,i) in measureMonitor">
                    <span>{{i+1}}</span>
                    <span>{{val.carPlateNo || ''}}</span>
                    <span>{{val.taskType ? val.taskType.slice(0,2) : '' }}</span>
                    <span>{{val.netWeight ? val.netWeight+'吨' :'' }}</span>
                    <span>{{val.craneWeight ? val.craneWeight+'吨' :'' }}</span>
                    <span>{{val.statusDesc||''}}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="right" style="flex: 4;">
          <div class="line info_rt">
            <div class="card_title"> 换单监测 </div>
            <div class="cleft" style="flex: 2;display: flex; flex-direction: column;padding-top: 30px;">
              <div class="move_title move_title2">
                <span>序</span>
                <span>车牌号</span>
                <span>卷号</span>
                <span>作业类型</span>
                <span>作业月台/位置</span>
              </div>
              <div class="video_info2" style="flex: 2;">
                <div class="video_info_box slideBox2" v-if="lastEnterOutputTask.length">
                  <div class="video_info_item2 slideItem" v-for="(val, i) in lastEnterOutputTask">
                    <span>{{i+1}}</span>
                    <span>{{val.carPlateNo || ''}}</span>
                    <span>{{val.packageNos || ''}}</span>
                    <span>{{val.taskType ||''}}</span>
                    <span>{{(val.platformName + '/' + val.locations) ||''}}</span>
                  </div>
                  <div class="video_info_item2 slideItem" v-for="(val, i) in lastEnterOutputTask">
                    <span>{{i+1}}</span>
                    <span>{{val.carPlateNo || ''}}</span>
                    <span>{{val.packageNos || ''}}</span>
                    <span>{{val.taskType ||''}}</span>
                    <span>{{(val.platformName + '/' + val.locations) ||''}}</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="cright" style="flex: 2; min-width: 200px; position: relative;">
              <div class="trape1"></div>
              <div class="circle1"></div>
              <div class="trape2"></div>
              <div class="circle2"></div>
              <div class="trape3"></div>
              <div class="circle3"></div>
              <div class="ladingCode">
                电提单
                <div class="circle4"></div>
                <div class="circle5"></div>
                <div class="circle6">短信</div>
                <div class="circle6" style="top: 156%;">车牌号</div>
                <div class="circle6" style="top: 76%;left: -136%;">证件号</div>
                <div class="circle6" style="top: -76%;left: -136%;">高拍仪</div>
                <div class="circle6" style="top: 76%;left: 136%;">纸提单</div>
                <div class="circle6" style="top: -76%;left: 136%;">终端机</div>
              </div>
            </div>
          </div>
          <div class="line">
            <div class="video_card info_rb">
              <div class="card_title">
                签章风险监测
              </div>
              <div class="move_title">
                <span>序</span>
                <span>业务单据</span>
                <span>签章名称</span>
                <span>时间</span>
                <span>申请人</span>
              </div>
              <div class="video_info" style="flex: 3;">
                <div class="video_info_box slideBox" v-if="signLog.length">
                  <div class="video_info_item1 slideItem" v-for="(val,i) in signLog">
                    <span>{{i+1}}</span>
                    <span>{{val.billCode || ''}}</span>
                    <span>{{val.signName ? val.signName.slice(0,5)+'...' : '' }}</span>
                    <span>{{val.createDate ? val.createDate.slice(11,16) : '' }}</span>
                    <span>{{val.createName||''}}</span>
                  </div>
                  <div class="video_info_item1 slideItem" v-for="(val,i) in signLog">
                    <span>{{i+1}}</span>
                    <span>{{val.billCode || ''}}</span>
                    <span>{{val.signName ? val.signName.slice(0,5)+'...' : '' }}</span>
                    <span>{{val.createDate ? val.createDate.slice(11,16) : '' }}</span>
                    <span>{{val.createName||''}}</span>
                  </div>
                </div>
              </div>
              <div class="line_video" style="background:0 0 / 100% 100% no-repeat url('./images/signrisk2.png'); "></div>
            </div>
            <div class="video_card info_rb">
              <div class="card_title ">
                结算监测
              </div>
              <div class="move_title">
                <span>序</span>
                <span>车牌号</span>
                <span>结算量</span>
                <span>金额</span>
                <span>状态</span>
                <span>结算方式</span>
              </div>
              <div class="video_info" style="flex: 3;">
                <div class="video_info_box slideBox" v-if="carSettlement.length">
                  <div class="video_info_item1 slideItem" v-for="(val,i) in carSettlement">
                    <span>{{i+1}}</span>
                    <span>{{val.carPlateNo || ''}}</span>
                    <span>{{val.hangWeight ? val.hangWeight+'吨' : '' }}</span>
                    <span>{{val.accountMoney ? val.accountMoney+'元' : '' }}</span>
                    <span>已结算</span>
                    <span>{{val.paymentModeDesc || ''}}</span>
                  </div>
                  <div class="video_info_item1 slideItem" v-for="(val,i) in carSettlement">
                    <span>{{i+1}}</span>
                    <span>{{val.carPlateNo || ''}}</span>
                    <span>{{val.hangWeight ? val.hangWeight+'吨' : '' }}</span>
                    <span>{{val.accountMoney ? val.accountMoney+'元' : '' }}</span>
                    <span>已结算</span>
                    <span>{{val.paymentModeDesc || ''}}</span>
                  </div>
                </div>
              </div>
              <div class="line_video" style="background:0 0 / 100% 100% no-repeat url('./images/settle.png'); "></div>
            </div>
          </div>
        </div>
      </div>
      <div class="body" :class=" firstVideo ? '':'opaticy_0' ">

        <div class="left">
          <div class="card_title" style="display: flex;align-items: center;">
            <div class="task_info">监管中心</div>
            <div class="select_mask" v-show="warePover||areaPover" @click="onSelMask"></div>
            <div class="custom_select2" @click="onWareClick">
              <span>{{currentWareValue}}</span>
              <div class="drop_close" v-show="!warePover"></div>
              <div class="drop_open" v-show="warePover"></div>
              <div class="drop_list" v-show="warePover">
                <div v-for="val in wareList" @click="onWareChange($event,val)" :class="currentWare==val.id ? 'seleced2_selected':'' ">{{val.name}}</div>
              </div>
            </div>
            <div class="custom_select2" @click="onAreaClick">
              <span>{{currentTrackValue}}</span>
              <div class="drop_close" v-show="!areaPover"></div>
              <div class="drop_open" v-show="areaPover"></div>
              <div class="drop_list" v-show="areaPover">
                <div v-for="val in trackList" @click="onAreaChange($event,val)"  v-show="currentWare=='3'" :class="currentTrack==val.id ? 'seleced2_selected':'' ">{{val.text}}</div>
                <div v-for="val in outList" @click="onAreaChange($event,val)" v-show="currentWare=='4'" :class="currentTrack==val.id ? 'seleced2_selected':'' ">{{val.text}}</div>
              </div>
            </div>
          </div>
          <div class="card_label">
            <img src="./images/steel01.png" class="lable_status" >
            <img src="./images/steel03.png" class="lable_status" >
            <img src="./images/steel02.png" class="lable_status" >
            <img src="./images/steel05.png" class="lable_status" >
            <img src="./images/steel04.png" class="lable_status" >
            <div class="label_img label_img1">
              <div>出库中</div>
              <div style="margin-right: 8px">{{totalOutNum}} 件</div>
            </div>
            <div class="label_img label_img2">
              <div>加工中</div>
              <div style="margin-right: 8px">{{totalProNum}}件</div>
            </div>
          </div>
          <div id="up_box" class="up">
            <div class="row_desc_new">
              <div :class="['desc_new',((val.row ==1||val.row ==2) && currentWare=='4')?'desc_new_high':'']" v-for="val in showLeft" :row="val.row+'排'"></div>
            </div>
            <div id="carBoxId" class="line_new">
              <div  v-if="Object.keys(rowCarInfo).length === 0" class="rowCar_new" :style=" 'left:' + 0 + '%;' " ></div>
              <div v-else>
                <div v-for="item in Object.keys(rowCarInfo)" :key="item" class="rowCar_new" :style=" 'left:' + rowCarInfo[item].axisx + '%;' " ></div>
              </div>

              <div v-if="currentWare=='4'" :class="['rows_new',((val.row ==1||val.row ==2) && currentWare=='4')?'rows_new_high':'',((val.row ==99) && currentWare=='4')?'rows_new_road':'']" v-for="val in showLeft">
                <div v-for="item in Object.keys(rowCarInfo)" :key="item" class="gou_new" v-if="val.row == rowCarInfo[item]._rowId" :style=" 'left:' + rowCarInfo[item].axisx + '%;bottom:' + rowCarInfo[item].axisy + '%;' ">
                  <div  class="gou_info_new">{{rowCarInfo[item].fenceName||''}}</div>
                </div>
                <img :id="roll.location" @click="onClickRoll($event,roll)"
                     :class="['image_roll_new',currentWare=='4'?'image_roll_out_new':'',getRollClass(roll),selRoll.packageNo==roll.data.packageNo ? 'roll_active_new' : '']"
                     v-for="roll in val.list"
                     :style=" 'bottom:' + roll.y + '%;left:' + roll.x + '%;' + 'z-index:' + (roll.lay) "/>
              </div>
              <div v-if="currentWare!='4'" class="rows_new rows_new_3" v-for="val in showLeft">
                <img :id="roll.location" @click="onClickRoll($event,roll)"
                     :class="['image_roll_new','image_roll_out_new_3',getRollClass(roll),selRoll.packageNo==roll.data.packageNo ? 'roll_active_new' : '']"
                     v-for="roll in val.list"
                     :style=" 'bottom:' + roll.y + '%;left:' + roll.x + '%;' + 'z-index:' + (roll.col+roll.lay)  "/>
              </div>
            </div>
            <div class="road_new" v-if="currentWare!='4'"></div>
            <div class="line_new" v-if="currentWare!='4'">
              <div class="rows_new rows_new_3" v-for="val in showRight">
                <img :id="roll.location" @click="onClickRoll($event,roll)"
                     :class="['image_roll_new','image_roll_out_new_3',getRollClass(roll),selRoll.packageNo==roll.data.packageNo ? 'roll_active_new' : '' ]"
                     v-for="roll in val.list"
                     :style=" 'bottom:' + roll.y + '%;left:' + roll.x + '%;' + 'z-index:' + (roll.col+roll.lay) "/>
              </div>
            </div>
          </div>
          <div class="down">
            <div class="down_video">
              <div class="down_video_box" id="down_video_box1"></div>
            </div>
            <div class="down_video">
              <div class="down_video_box" id="down_video_box2"></div>
            </div>
            <div class="down_video">
              <div class="down_video_box" id="down_video_box3"></div>
            </div>
          </div>
        </div>
        <div class="right">
          <div class="line">
            <div class="video_card">
              <div class="card_title">
                入园视频
              </div>
              <div class="line_video">
                <div id="line_video1" class="right_video" ></div>
              </div>
              <div class="video_info">
                <div class="video_info_box slideBox" v-if="enterBarrier.length">
                  <div class="video_info_item slideItem" v-for="val in enterBarrier">
                    <span>{{val.dateText||''}}</span>
                    <span>{{val.carPlateNo||''}}</span>
                    <span>{{val.statusDesc||''}}</span>
                    <span>{{val.taskType||''}}</span>
                  </div>
                  <div class="video_info_item slideItem" v-for="val in enterBarrier">
                    <span>{{val.dateText||''}}</span>
                    <span>{{val.carPlateNo||''}}</span>
                    <span>{{val.statusDesc||''}}</span>
                    <span>{{val.taskType||''}}</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="video_card">
              <div class="card_title">
                入园过磅视频
              </div>
              <div class="line_video half_video_box" >
                <div class="half_video" >
                  <div id="line_video2" class="right_video" style="height: calc(100% - 34px);"></div>
                </div>
                <div class="half_info">
                  <div class="half_line">
                    <div>
                      <span>车牌号:</span>
                      <span class="hColor" id="inCarPlateNo"></span>
                    </div>
                    <div>
                      <span>单号:</span>
                      <span class="hColor" id="inBillCode" style="display: inline-block; min-width: 80px;"></span>
                    </div>
                  </div>
                  <div class="half_line">
                    <div>
                      <span>毛重:</span>
                      <span class="hColor" id="inRoughWeight"></span>
                    </div>
                    <div>
                      <span>皮重:</span>
                      <span class="hColor" id="inTareWeight"></span>
                    </div>
                    <div>
                      <span>净重:</span>
                      <span class="hColor" id="inRealWeight" style="display: inline-block; min-width: 40px;"></span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="video_info ">
                <div class="video_info_box slideBox"  v-if="enterBridge.length">
                  <div class="video_info_item slideItem" v-for="val in enterBridge" :class="{col_red: val.status =='2'}">
                    <span>{{val.dateText||''}}</span>
                    <span>{{val.carPlateNo||''}}</span>
                    <span>{{val.weightDesc||''}}</span>
                    <span>{{val.statusDesc||''}}</span>
                  </div>
                  <div class="video_info_item slideItem" v-for="val in enterBridge" :class="{col_red: val.status =='2'}">
                    <span>{{val.dateText||''}}</span>
                    <span>{{val.carPlateNo||''}}</span>
                    <span>{{val.weightDesc||''}}</span>
                    <span>{{val.statusDesc||''}}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="line">
            <div class="video_card">
              <div class="card_title">
                出园过磅视频
              </div>
              <div class="line_video half_video_box" >
                <div class="half_video" >
                  <div id="line_video3" class="right_video" style="height: calc(100% - 34px);"></div>
                </div>
                <div class="half_info">
                  <div class="half_line">
                    <div>
                      <span>车牌号:</span>
                      <span class="hColor" id="outCarPlateNo"></span>
                    </div>
                    <div>
                      <span>单号:</span>
                      <span class="hColor" id="outBillCode" style="display: inline-block; min-width: 80px;"></span>
                    </div>
                  </div>
                  <div class="half_line">
                    <div>
                      <span>毛重:</span>
                      <span class="hColor" id="outRoughWeight"></span>
                    </div>
                    <div>
                      <span>皮重:</span>
                      <span class="hColor" id="outTareWeight"></span>
                    </div>
                    <div>
                      <span>净重:</span>
                      <span class="hColor" id="outRealWeight" style="display: inline-block; min-width: 40px;"></span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="video_info">
                <div class="video_info_box slideBox" v-if="outBridge.length">
                  <div class="video_info_item slideItem" v-for="val in outBridge" :class="{col_red: val.status =='2'}">
                    <span>{{val.dateText||''}}</span>
                    <span>{{val.carPlateNo||''}}</span>
                    <span>{{val.weightDesc||''}}</span>
                    <span>{{val.statusDesc||''}}</span>
                  </div>
                  <div class="video_info_item slideItem" v-for="val in outBridge" :class="{col_red: val.status =='2'}">
                    <span>{{val.dateText||''}}</span>
                    <span>{{val.carPlateNo||''}}</span>
                    <span>{{val.weightDesc||''}}</span>
                    <span>{{val.statusDesc||''}}</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="video_card">
              <div class="card_title">
                出园视频
              </div>
              <div class="line_video">
                <div id="line_video4" class="right_video" ></div>
              </div>
              <div class="video_info">
                <div class="video_info_box slideBox" v-if="outBarrier.length">
                  <div class="video_info_item slideItem" v-for="val in outBarrier">
                    <span>{{val.dateText||''}}</span>
                    <span>{{val.carPlateNo||''}}</span>
                    <span>{{val.statusDesc||''}}</span>
                    <span>{{val.taskType||''}}</span>
                  </div>
                  <div class="video_info_item slideItem" v-for="val in outBarrier">
                    <span>{{val.dateText||''}}</span>
                    <span>{{val.carPlateNo||''}}</span>
                    <span>{{val.statusDesc||''}}</span>
                    <span>{{val.taskType||''}}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
  <div class="footer">
    <img src="./images/icon_bottom3.png" alt="" class="icon_bottom">
    <img src="./images/icon_bottom4.png" alt="" class="icon_bottom">
  </div>
</div>
<script type="text/javascript">
  let myDocument = window.document;
  try {
    myDocument = window.parent.document;
  } catch(e) {
    console.log('同源策略报错11');
    myDocument = window.document;
  }

  let appVue = new Vue({
    el: '#app',
    data: {
      outNum: 0,
      throughNum: 0,
      processNum: 0,
      enterBarrier:[],
      outBarrier:[],
      enterBridge:[],
      outBridge:[],
      platLeft:[],
      platRight:[],
      showLeft:[],
      showRight:[],
      showList:[[],[],[],[]],
      signLog:[],
      carMonitor:[],
      lastSendDetail:[],
      carSettlement:[],
      measureMonitor:[],
      lastEnterOutputTask:[],
      rollList:[],
      currentRoll:null,
      areaNum:0,
      axisx: 0,
      axisy: 0,
      isFull:false,
      firstVideo: true,
      pageShow:false,
      selRoll:{},
      pageX:0,
      pageY:0,
      relationId:'4d804',
      rowCarList:[],
      rowCarInfo: {},
      areaInfo:[
        {
          name:'室外A区',
          relationId:'4a459',
          list:['426fa905d1ea49b5a2cb7197e208d021','0ff287e0ae094be795579a3f2996089f','e48ecc5e28e44fd4a6b1c2afd05cb7aa']
        },
        {
          name:'室外B区',
          relationId:'4d807',
          list:['5bfd98cc0bb2468b9c36d6891fecf904','e48ecc5e28e44fd4a6b1c2afd05cb7aa','1c25d516d7644afca8bd3ddf684899b4']
        },
        {
          name:'C',
          relationId:'4d805',
          list:['3aa477cbdbd04aa9bb03769bf97f47ce','22ac7c421ffd4ef4bb3241a53744fa99','450771ae78da4ab0b1034628532746f9']
        },
        {
          name:'D',
          relationId:'4d804',
          list:['3c8048db25e64713a4db39e98b81c52a','22ac7c421ffd4ef4bb3241a53744fa99','450771ae78da4ab0b1034628532746f9']
        },
      ],
      // showAreaName:'室外A区',
      // currentTrack:"A",

      currentWare:'4',
      currentWareValue:'室外库',
      areaPover:false,
      warePover:false,
      currentTrack:'A',
      currentTrackValue:'A区',
      wareList:[
        {
          id:'3',
          name:'室内库3'
        },
        {
          id:'4',
          name:'室外库'
        }
      ],
      trackList:[
        {   text:'一跨',
          id:'AG',
          area:['A','G'],
          // camera:['4fa67d6946804935ba04da5847d72b65','c0e24ef47d714db5b2ae47ebc92512ee'],
          camera:['4fa67d6946804935ba04da5847d72b65','1c38c3ebb0554132bb34adae5678ea60'],
        },{
          text:'二跨',
          id:'BH',
          area:['B','H'],
          // camera:['b4356dd89398427a91468f011630cb44','a1ca4f1fe100479d8c441f693ae2e51e'],
          camera:['b4356dd89398427a91468f011630cb44','a4564fdfc43d41b7aeaedeb73a1c9105'],
        },{
          text:'三跨',
          id:'CJ',
          area:['C','J'],
          // camera:['dd6791aaa49e478683eee633bb15d21f','8af5b2091389421097cdcbc1470f1720'],
          camera:['dd6791aaa49e478683eee633bb15d21f','8051eb56172d42d498c87e32d2968f0b'],
        },{
          text:'四跨',
          id:'DK',
          area:['D','K'],
          // camera:['89c36b5fb1f44f38998ec298b5366d26','711a4c66ced44749a9e7ff76785623ce'],
          camera:['89c36b5fb1f44f38998ec298b5366d26','8b9c4867f933404e91d29b928e952faa'],
        },{
          text:'五跨',
          id:'EL',
          area:['E','L'],
          // camera:['ffaaa8fa0f63438caa78d45a44254f87','08680d8ee21040119d7b687b1f477819'],
          camera:['ffaaa8fa0f63438caa78d45a44254f87','5abb26fa3ca9484e8e11d3c1c055b492'],
        },{
          text:'六跨',
          id:'FM',
          area:['F','M'],
          // camera:['08ae604e686e468bad1c4b47c0c313de','f45797ad4016482eb1c81b09b867d0f0'],
          camera:['08ae604e686e468bad1c4b47c0c313de','5cb37dcc6c674692a05abd6852e5aa2d'],
        }
      ],
      outList:[
        {   text:'A区',
          id:'A',
          relationId:'4a459',
          camera:['d665129d3ca14d5288e25bf42cc4fa97','8217b224234c4ae9b45a8f7141debbc1']
        },{
          text:'B区',
          id:'B',
          relationId: '4d807',
          camera:['f60874dc6e0e4d899799ceb4972b3b55','1c25d516d7644afca8bd3ddf684899b4']
        },{
          text:'C区',
          id:'C',
          relationId: '4d805',
          camera:['5a2df711745947119ad7a374e7de9261','a7328bcc327e4f6f8b84c3829f7e8c0b']
        },{
          text:'D区',
          id:'D',
          relationId: '4d804',
          camera:['450771ae78da4ab0b1034628532746f9','22ac7c421ffd4ef4bb3241a53744fa99']
        },{
          text:'E区',
          id:'E',
          relationId: '4a2bb',
          camera:['1735c15e1d314b1eac583369461b89b4','3de7e21865924755ab7746436f4ff7be']
        },{
          text:'F区',
          id:'F',
          relationId:'4d847',
          camera:['c3f439e02c4e437a87390502d4b81a23','0ca8fe5732124bc998b929c6a86bb70e']
        }],
    },
    computed:{
      totalOutNum(){
        let self = this
        let num = 0
        let iventList = [...self.showLeft,...self.showRight]
        for(let i=0;i<iventList.length;i++){
          let list = iventList[i].list || []
          for(let j=0;j<list.length;j++){
            if(list[j].data.inventoryLockStatus=='1'){
              num = num + 1
            }
          }
        }
        return num;
      },
      totalProNum(){
        let self = this
        let num = 0
        const map = {}
        let iventList = [...self.showLeft,...self.showRight]
        for(let i=0;i<iventList.length;i++){
          let list = iventList[i].list || []
          for(let j=0;j<list.length;j++){
            if(list[j].data.type=='04'){
              num = num + 1;
              map[list[j].data.id] = list[j].data.location
            }
          }
        }
        console.log(map,Object.values(map).length, 'drx----map');
        return num;
      },
      totalIssueNum(){
        let self = this
        let num = 0
        let iventList = [...self.showLeft,...self.showRight]
        for(let i=0;i<iventList.length;i++){
          let list = iventList[i].list || []
          for(let j=0;j<list.length;j++){
            if(list[j].data.inventoryLockStatus=='3'){
              num = num + 1
            }
          }
        }
        return num;
      },
    },
    methods:{
      onWareChange:function (e,val){
        let self = this
        e.stopPropagation()
        self.warePover = false
        self.currentWare = val.id
        self.currentWareValue = val.name
        if(self.currentWare!='4'){
          // self.video1.startPreview(self.trackList[0].camera[0])
          // self.video2.startPreview(self.trackList[0].camera[1])
          self.track = self.trackList;
          self.currentTrack = 'AG';
          self.currentTrackValue = '一跨'
          self.getInventory(self.currentWare,['A','G']);
        } else {
          // self.video1.startPreview(self.outList[0].camera[0])
          // self.video2.startPreview(self.outList[0].camera[1])
          self.track = self.outList;
          self.currentTrack = 'A';
          self.currentTrackValue = 'A区'
          self.getInventory('A',['A']);
        }
      },
      onAreaChange:function (e,val){
        let self = this
        e.stopPropagation()
        self.areaPover = false
        self.currentTrack = val.id
        self.currentTrackValue = val.text
        self.onCloseInfo()
        let _qu = this.currentWare === '4'?val.id:this.currentWare;
        self.getInventory(_qu,self.currentTrack.split(''))
        craneWebSocketClient()
      },
      onSelMask:function(){
        let self = this
        self.warePover = false
        self.areaPover = false
      },
      onWareClick:function(){
        let self = this
        self.areaPover = false
        if(self.warePover){
          self.warePover = false
        }else{
          self.warePover = true
        }
      },
      onAreaClick:function(){
        let self = this
        self.warePover = false
        if(self.areaPover){
          self.areaPover = false
        }else{
          self.areaPover = true
        }
      },
      getRollClass(val){
        // 01 期货 红色
        // 02 待出库 蓝色
        // 03 锁货 黄色
        // 04 加工  绿色
        // 灰色是正常现货卷
        if(val.data&&val.data.type=='01'){
          return 'image_roll3_new'
        }
        if(val.data&&val.data.type=='02'){
          return 'image_roll2_new'
        }
        if(val.data&&val.data.type=='03'){
          return 'image_roll1_new'
        }
        if(val.data&&val.data.type=='04'){
          return 'image_roll4_new'
        }
        return 'image_roll_new'
      },
      onCloseInfo(){
        let self = this
        self.pageShow = false
        self.selRoll = {}
      },
      onClickRoll(e,roll){
        console.log('e :>> ', e);
        e.stopPropagation()
        let self = this
        self.pageShow = true
        self.selRoll = roll.data
        const pageX = e.pageX;
        const pageY = e.pageY;
        self.pageX = pageX +8
        self.pageY = pageY +8
        if($('#up_box').get(0)){
          const upBox = $('#up_box').get(0).getBoundingClientRect()
          if(pageX+190>= upBox.right){
            self.pageX = pageX- (pageX+190 - upBox.right)
          }
          console.log(pageY, 'drx----');
          if(pageY+80 >= upBox.bottom){
            self.pageY = pageY- (pageY+80 - upBox.bottom)
          }
        }
      },
      //全屏
      onFullScreen(){
        let iframe = $('.curholder>iframe',myDocument)[0];
        if(iframe){
          window.open(location.href,'_top');
        }else{
          fullScreen(document.getElementById('app'))
        }
      },
      getInventory(ware,area){
        let self = this;
        let list = window.__json
        // let list = []
        self.showLeft = []
        self.showRight = []
        let maxRow = 0;
        if(self.currentWare!='4'){
          for(let i=0;i<list.length;i++){
            let vent = self.inToLocation(list[i])
            if(vent.area==area[0]){
              self.showLeft.push(vent)
              if(vent.row>maxRow){
                maxRow= vent.row
              }
            }else if(vent.area==area[1]){
              self.showRight.push(vent)
              if(vent.row>maxRow){
                maxRow= vent.row
              }
            }
          }
          self.showLeft = self.dealAreaList(maxRow,self.showLeft)
          self.showRight = self.dealAreaList(maxRow,self.showRight)
        }else{
          for(let i=0;i<list.length;i++){
            let vent = self.inToLocation(list[i])
            if(vent.area==area[0]){
              self.showLeft.push(vent)
              if(vent.row>maxRow){
                maxRow= vent.row
              }
            }
          }
          const quList = ['A','C','E']
          if(Array.isArray(area) && quList.includes(area[0])){
            maxRow = 4
          }else {
            maxRow = 3
          }
          let _showLeft = self.dealAreaList(maxRow,self.showLeft);
          self.showLeft = _showLeft
          _showLeft.sort((a,b)=>{
            return b.row-a.row
          })
          _showLeft.splice(-2,0,{
            row: 999,
            list:[]
          })
          console.log(_showLeft, 'drx----_showLeft');
          self.showLeft = _showLeft
          self.showRight = []
        }
      },
      getNewInfo(num){
        let self = this
        self.showAreaName = self.areaInfo[num].name
        // areaPlay1.startPreview(self.areaInfo[num].list[0])
        // areaPlay2.startPreview(self.areaInfo[num].list[1])
        // areaPlay3.startPreview(self.areaInfo[num].list[2])
      },
      dealAreaList(maxRow,list){
        let self = this
        let newList = []
        if(self.currentWare!='4'){
          maxRow = 10
          for(let k=1;k<=maxRow;k++){
            let obj = { row:k,list:[] }
            for(let i=0;i<list.length;i++){
              if(list[i].row==k){
                obj.list.push(list[i])
              }
            }
            newList.push(obj)
          }
          return newList;
        }else {
          for(let k=0;k<=maxRow;k++){
            let obj = { row:k,list:[] }
            for(let i=0;i<list.length;i++){
              if(list[i].row==k){
                obj.list.push(list[i])
              }
            }
            newList.push(obj)
          }
          return newList;
        }

      },
      inToLocation(material){ //转换成位置
        let obj = {}
        if(material && material.columnId && material.columnId.indexOf('库')==-1){
          obj.row = material.rowId;
          obj.col = material.columnId;
          obj.lay = material.storeyNo;
          obj.bingId = material.bingId;
          obj.location = material.location;
          const row = material.rowId
          if(this.currentWare==='4'){
            const wregion = material.wregion;
            if(wregion === 'A'||wregion === 'C'||wregion === 'E'){
              if(row == '1'|| row == '2'){
                obj.x = -0.37*(parseInt(obj.lay-2)) + 1.45*(parseInt(obj.bingId-1));
                obj.y = 5.1*(parseFloat(obj.col)-1) + 3.1*(parseFloat(obj.lay)-1);
              }else if(row == '0'||row == '3'||row == '4'){
                obj.y = 11*(parseInt(obj.lay-1)) ;
                obj.x = 0.65*(parseFloat(obj.lay)-1) + 0.9*(parseFloat(obj.col)-1) + 7.1*(parseFloat(obj.bingId)-1);
              }
            }else{
              if(row == '1'|| row == '2'){
                obj.x = -0.37*(parseInt(obj.lay-2)) + 1.45*(parseInt(obj.bingId-1));
                obj.y = 5.1*(parseFloat(obj.col)-1) + 3.1*(parseFloat(obj.lay)-1);
              }else if(row == '0'||row == '3'||row == '4'){
                obj.y = 11*(parseInt(obj.lay-1)) ;
                obj.x = 0.65*(parseFloat(obj.lay)-1) + 0.9*(parseFloat(obj.col)-1) + 7.1*(parseFloat(obj.bingId)-1);
              }
            }
          }else{
            const _wregion = material.wregion;
            let  wregion_ = _wregion.match(/[A-Za-z]/g)
            if(wregion_){
              let wregion = wregion_[0]
              if(wregion === 'A'||wregion === 'B'||wregion === 'C'||wregion === 'D'||wregion === 'E'||wregion === 'F'){
                obj.y = 14*(parseInt(obj.lay-1)) ;
                obj.x = 99 - (0.7*(parseFloat(obj.lay)-1) + 1.5*(parseFloat(obj.col)-1) + 17*(parseFloat(obj.bingId)-1));
              }else{
                obj.y = 14*(parseInt(obj.lay-1)) ;
                obj.x = (0.7*(parseFloat(obj.lay)-1) + 1.5*(parseFloat(obj.col)-1) + 17*(parseFloat(obj.bingId)-1));
              }
            }
          }
          if(material.location && material.location.match(/[A-z]/)[0]){
            obj.area = material.location.match(/[A-z]/)[0]
          }
          obj.data = JSON.parse(JSON.stringify(material))
          return obj;
        }
        return obj
      },
      fillEnd(str,len){
        if(str){
          if(str.length>len){
            return str.toString().slice(0,len-1)+'...'+'\xa0\xa0';
          }
          let elen = len-str.length;
          let nlen = str.length + elen + elen;
          str = str.toString().padEnd(nlen,'\xa0')
          return str
        }else{
          return ''.toString().padEnd((len*2)+2,'\xa0')
        }
      },
      getRowCarLoc(list){
        let self = this
        const currentWare = self.currentWare;
        const currentTrack = self.currentTrack;
        let _rowCar = {};
        if(currentWare ==='4'){
          const relationIdObj = {
            'A':['4a459','4d805','4a2bb'],
            'B':['4d807','4d804','4d847'],
            'C':['4a459','4d805','4a2bb'],
            'D':['4d807','4d804','4d847'],
            'E':['4a459','4d805','4a2bb'],
            'F':['4d807','4d804','4d847'],
          }
          const tagIds = relationIdObj[currentTrack]
          for(let i=0;i<list.length;i++){
            let axisy=0 , axisx=0;
            let rowCar = list[i];
            let layerName = rowCar.layerName;
            if(layerName!=='室外') {
              continue
            }
            let tagId = rowCar.tagId;
            let isNow = tagIds.indexOf(tagId)!==-1;
            if(!isNow){
              continue
            }
            const ZMre = /[A-Za-z]/
            let loc = rowCar.fenceName;
            if(!loc){
              continue
            }
            const ZMreList = loc.match(ZMre);
            if(!Array.isArray(ZMreList)){
              continue
            }
            const wregion = ZMreList[0];
            if(wregion !== currentTrack){
              continue
            }
            const fenceNameReg = /^[A-Za-z]\d+(?:-\d+){3}$/;
            if(fenceNameReg.test(loc)) {
              const re = /\d+/g;
              const infoList = loc.match(re);
              const row = parseFloat(infoList[0])
              const bingId = parseFloat(infoList[1])
              const columnId = parseFloat(infoList[2])
              const storeyNo = parseFloat(infoList[3]);
              if(wregion === 'A'||wregion === 'C'||wregion === 'E'){
                if(row == '1'|| row == '2'){
                  axisx = -0.37*(parseInt(storeyNo-2)) + 1.45*(parseInt(bingId-1));
                  axisy = 3.1*(parseFloat(storeyNo)-1) + 5.1*(parseFloat(columnId)-1);
                }else if(row == '0'||row == '3'||row == '4'){
                  axisy = 11*(parseInt(storeyNo-1)) ;
                  axisx = 0.65*(parseFloat(storeyNo)-1) + 0.9*(parseFloat(columnId)-1) + 7.1*(parseFloat(bingId)-1);
                }
              }else{
                if(row == '1'|| row == '2'){
                  axisx = -0.37*(parseInt(storeyNo-2)) + 1.45*(parseInt(bingId-1));
                  axisy = 3.1*(parseFloat(storeyNo)-1) + 5.1*(parseFloat(columnId)-1);
                }else if(row == '0'||row == '3'){
                  axisy = 11*(parseInt(storeyNo-1)) ;
                  axisx = 0.65*(parseFloat(storeyNo)-1) + 0.9*(parseFloat(columnId)-1) + 7.1*(parseFloat(bingId)-1);
                }
              }
              _rowCar[tagId] = Object.assign(rowCar,{
                _rowId:row,
                axisx:axisx,
                axisy:axisy,
              })
            }
          }
          self.rowCarInfo = _rowCar
        }
        console.log(self.rowCarInfo, 'drx----self.rowCarInfo');
      },

    },
    mounted(){
      if(this.currentWare!='4'){
        let currentTrack = this.currentTrack.split('')
        this.getInventory(this.currentWare,currentTrack);
      } else {
        this.getInventory('A',['A']);
      }
    }
  })
  var craneWebSocket;
  function craneWebSocketClient(){
    if(typeof(WebSocket) == "undefined") {
      console.log("您的浏览器不支持WebSocket");
    }else{
      let socketUrl="wss://www.jdzt168.com/tsWebSocket/craneWebSocketNew";
      if(craneWebSocket!=null){
        craneWebSocket.close();
        craneWebSocket=null;
      }
      craneWebSocket = new WebSocket(socketUrl);
      //打开事件
      craneWebSocket.onopen = function() {
        console.log("行车websocket已打开");
      };
      //获得消息事件
      craneWebSocket.onmessage = function(msg) {
        let list = JSON.parse(msg.data);
        // appVue.getRowCarLoc(list);
      };
      //关闭事件
      craneWebSocket.onclose = function() {
        console.log("行车websocket已关闭");
      };
      //发生了错误事件
      craneWebSocket.onerror = function() {
        console.log("行车websocket发生了错误");
      }
    }
  }
</script>
</body>
</html>
